@page ""
@model ProtectedDiary.Pages.DiaryModel

@{
    ViewData["Title"] = "Diary";
}

@if (Model.Author.Relationship == AuthorRelationship.You || Model.Author.Relationship ==
    AuthorRelationship.MutualFollowers)
{
    <h1 class="diary-title">@Html.DisplayFor(model => model.Diary.Title)</h1>

            <section class="diary-info">
                <div class="author">
                    <a asp-page="UserDiaries" asp-route-userId="@Model.Diary.UserId">
                        <img class="icon" src="@Html.DisplayFor(model => model.Author.IconUrl)" alt="icon" width="50"
                            height="50">
                        </a>
                            <div class="author-detail">
                                <a asp-page="UserDiaries" asp-route-userId="@Model.Diary.UserId"
                                     class="author-name">@Html.DisplayFor(model =>
                                                        model.Author.ScreenName)</a>
                                <time class="diary-createdAt" datetime="@Html.DisplayFor(model => model.Diary.CreatedAt)">
                                    @Html.DisplayFor(model => model.Diary.CreatedAt)
                                </time>
                            </div>
                </div>
                @if (Model.Author.Relationship == AuthorRelationship.You)
        {
                    <div>
                        <a class="button" asp-page="/Diaries/Edit" asp-route-id="@Model.Diary.Id">編集</a>
                    </div>
        }
            </section>

            <section class="diary-content">@Html.DisplayFor(model => model.Diary.Content)</section>
}
else
{
            <h1>相互フォローではないので見れません</h1>
}